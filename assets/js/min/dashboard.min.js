!function(t){"use strict";t(document).ready(function(){t(".agent-action a").tooltip({html:!0,container:t("body"),placement:"top"}),t(".s-prop-location").length&&t(".s-prop-sub_location").length&&t(".s-prop-location").find(".dropdown-menu > li > a").on("click",function(a){a.stopPropagation(),a.preventDefault();var e=t(this).data("value");t(".s-prop-sub_location .dropdown").children('[data-toggle="dropdown"]').text(t(".s-prop-sub_location .dropdown-menu > li:first a").text()),t(".s-prop-sub_location").find(".dropdown-menu > li").each(function(){var a=t(this).data("parent-location");"undefined"!=typeof a&&a!=e?t(this).hide():t(this).show()})})}),t(".form-group .dropdown").length&&(t(".form-group .dropdown-menu > li > a").on("click",function(a){a.stopPropagation(),a.preventDefault();{var e=t(this).closest(".dropdown"),o=t(this).data("value");t(this).data("plan"),t(this).data("price")}e.children("input").val(o),e.children("input").trigger("change"),e.children('[data-toggle="dropdown"]').text(t(this).text()),e.children('[data-toggle="dropdown"]').dropdown("toggle")}),t(".membership-payment .form-group .dropdown").on("click","> span",function(t){t.preventDefault()}),t(".membership-payment .form-group .dropdown-menu > li > a").on("click",function(a){a.stopPropagation(),a.preventDefault();var e=t(this).closest(".dropdown"),o=t(this).data("value"),n=t(this).data("plan"),r=t(this).data("price");e.children("input#package_id").val(o),e.children("input#plan").val(n),e.children("input#price").val(r),e.children('[data-toggle="dropdown"]').text(t(this).text()),e.children('[data-toggle="dropdown"]').dropdown("toggle"),t(".membership-payment .form-group .dropdown").removeClass("open")}),t(".s-prop-desc textarea").wysihtml5({stylesheets:[noo_dashboard.style_rtl],"font-styles":!1,blockquote:!1,emphasis:!0,lists:!0,html:!1,link:!0,image:!0,color:!1})),t(".subscription_post #recurring_payment").click(function(){t(this).is(":checked")?t(".subscription_post .recurring_time").show():t(".subscription_post .recurring_time").hide()}),t(".profile-form").submit(function(a){a.preventDefault();var e=t(this),o=e.serializeArray();t.ajax({type:"POST",url:nooL10n.ajax_url,data:o,success:function(a){var o=t.parseJSON(a),n="";n=o.success?'<div class="noo-message alert alert-success alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>'+o.message+"</div>":'<div class="noo-message alert alert-danger alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>'+o.message+"</div>",e.find(".form-message").empty().append(n),e.find("input[type=password]").val("")},error:function(){}})}),t(".property-action .agent-action .status-property").click(function(a){a.preventDefault();var e=t(this),o=e.parent(".agent-action"),n={prop_id:o.attr("data-prop-id"),agent_id:o.attr("data-agent-id"),nonce:noo_dashboard.status_property,action:"noo_ajax_status_property"};t.post(nooL10n.ajax_url,n,function(a){var e=t.parseJSON(a);e.success&&location.reload()})}),t(".property-action .agent-action .featured-property").click(function(a){if(a.preventDefault(),confirm(noo_dashboard.confirmFeaturedMsg)){var e=t(this),o=e.parent(".agent-action"),n={prop_id:o.attr("data-prop-id"),agent_id:o.attr("data-agent-id"),nonce:noo_dashboard.featured_property,action:"noo_ajax_featured_property"};t.post(nooL10n.ajax_url,n,function(a){var e=t.parseJSON(a);e.success&&location.reload()})}}),t(".property-action .agent-action .delete-property").click(function(a){if(a.preventDefault(),confirm(noo_dashboard.confirmDeleteMsg)){var e=t(this),o=e.parent(".agent-action"),n={prop_id:o.attr("data-prop-id"),agent_id:o.attr("data-agent-id"),nonce:noo_dashboard.delete_property,action:"noo_ajax_delete_property"};t.post(nooL10n.ajax_url,n,function(a){var o=t.parseJSON(a);o.success&&(e.parent("article").remove(),location.reload())})}}),t(".submission-payment .submission-featured").change(function(){var a=t(this),e=a.closest(".submission-payment");if(a.is(":checked")){e.find(".payment-total span.amount").text(e.attr("data-total-price-text"));var o=e.attr("data-total-price-text").replace(/[^\d\.]/g,"");e.find("input#price_property").val(o),e.find(".payment-action a.paypal-btn").removeClass("disabled")}else{var n=e.find(".listing-price span.amount").length?e.find(".listing-price span.amount").text():e.attr("data-zero-price-text"),o=n.replace(/[^\d\.]/g,"");e.find(".payment-total span.amount").text(n),e.find("input#price_property").val(o),"0"==e.attr("data-listing-price")&&e.find(".payment-action a.paypal-btn").addClass("disabled")}}),t("form.subscription_post").submit(function(a){if(a.preventDefault(),"false"==nooL10n.is_logged_in&&t(".noo-login-form").length>0)return t(".noo-login-form").show(),void 0;var e=t(this),o=e.serializeArray();t.ajax({type:"POST",url:nooL10n.ajax_url,data:o,success:function(a){var o=t.parseJSON(a),n="";o.success?window.location.replace(o.message):n='<div class="noo-message alert alert-danger alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>'+o.message+"</div>",e.find(".form-message").empty().append(n)},error:function(){}})}),t(".listing-payment-form").submit(function(a){a.preventDefault();var e=t(this),o=e.serializeArray();t.ajax({type:"POST",url:nooL10n.ajax_url,data:o,success:function(a){var o=t.parseJSON(a),n="";o.success?window.location.replace(o.message):n='<div class="noo-message alert alert-danger alert-dimissible" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span></button>'+o.message+"</div>",e.find(".form-message").empty().append(n)},error:function(){}})}),t(".add-additional-row").click(function(e){e.preventDefault();var o=t(this).data("key")+1;t(this).data("key",o),t(this).attr({key:o});var n='<tr><td class="action-field"><span class="sort-additional-row"><i class="fa fa-navicon"></i></span></td><td class="field-title"><input class="noo-ft-field" type="text" name="additional_features['+o+'][additional_feature_label]" id="additional_feature_label_'+o+'" value=""></td><td><input class="noo-ft-field" type="text" name="additional_features['+o+'][additional_feature_value]" id="additional_feature_value_'+o+'" value=""></td><td class="action-field"><span data-remove="'+o+'" class="remove-additional-row"><i class="fa fa-remove"></i></span></td></tr>';t("#noo_additional_details").append(n),a()});var a=function(){t(".remove-additional-row").click(function(a){a.preventDefault();var e=t(this);e.closest("tr").remove()})};a();var e=function(){t("#rp-item-sub_property_wrap-wrap .rp-clone-sub-property").on("click",".add-sub-property",function(a){a.preventDefault();var e=t(this),o=e.data("total"),n=t("#clone_element1").clone(!0).html();n=n.replace(/\[0\]/g,"["+(o+1)+"]"),t(".content-clone1").append('<div class="rp-sub-property-wrap rp-md-12">'+n+"</div>"),e.data("total",o+1)})};e();var o=function(){t("body").on("click",".remove-sub-property",function(a){a.preventDefault(),t(this).closest(".rp-sub-property-wrap").remove()})};o()}(jQuery);
jQuery(document).ready(function(r){if(r('[data-paginate="loadmore"]').find(".loadmore-action").length&&r('[data-paginate="loadmore"]').each(function(){var e=r(this);e.nooLoadmore({agentID:e.closest(".agent-properties").data("agent-id"),navSelector:e.find("div.pagination"),nextSelector:e.find("div.pagination a.next"),itemSelector:".noo_property",finishedMsg:nooPropertyL10n.ajax_finishedMsg})}),r("#conactagentform").length&&r("#conactagentform").each(function(){r(this).ajaxForm({beforeSubmit:function(e,a,o){return a.find(".addclass").closest("div").removeClass("has-error").find("span.error").remove(),a.children(".msg").remove(),a.find("img.ajax-loader").css({visibility:"visible"}),!0},url:nooPropertyL10n.ajax_url,type:"POST",dataType:"json",success:function(e,a,o,t){t.find("img.ajax-loader").css({visibility:"hidden"}),r.isPlainObject(e)&&!r.isEmptyObject(e)&&(r.each(e.error,function(e,a){t.find("[name="+a.field+"]").closest("div").addClass("has-error").append('<span class="error">'+a.message+"</span>").slideDown("fast")}),""!=e.msg&&(t.append('<span class="msg">'+e.msg+"</span>").slideDown("fast"),t.find("[placeholder].addclass").each(function(e,a){r(a).val("")})))},error:function(e,a,o,t){}})}),r(".property-featured .images").length){var e=r(this),a={responsive:!0,circular:!0,infinite:!0,auto:{play:!1,pauseOnHover:!0},prev:e.find(".slider-control.prev-btn"),next:e.find(".slider-control.next-btn"),swipe:{onTouch:!0},scroll:{items:1,duration:600,fx:"scroll",timeoutDuration:2e3,easing:"swing"},width:"100%",height:"variable",items:{height:"variable",visible:1}};r(".property-featured .images").find("ul").carouFredSel(a),imagesLoaded(r(".property-featured .images"),function(){r(".property-featured .images").find("ul").trigger("destroy").carouFredSel(a)}),r(window).resize(function(){r(".property-featured .images").find("ul").trigger("destroy").carouFredSel(a)})}r(".property-featured .thumbnails").length&&(r(".property-featured .thumbnails").each(function(){var e=r(this),a={responsive:!0,circular:!1,infinite:!0,auto:{play:!1,pauseOnHover:!0},prev:e.find(".caroufredsel-prev"),next:e.find(".caroufredsel-next"),swipe:{onTouch:!0},scroll:{items:1,duration:600,fx:"scroll",timeoutDuration:2e3,easing:"swing"},width:"100%",height:"variable",items:{width:138,height:"variable",visible:{min:1,max:5}}};e.find("ul").carouFredSel(a),imagesLoaded(e,function(){e.find("ul").trigger("destroy").carouFredSel(a)}),r(window).resize(function(){e.find("ul").trigger("destroy").carouFredSel(a)})}),r(document).on("click",".property-featured .thumbnails ul li > a",function(e){e.stopPropagation(),e.preventDefault(),r(this).closest(".thumbnails").find(".selected").removeClass("selected"),r(this).closest("li").addClass("selected");var a=r(this).data("rel");r(".property-featured .images").find("ul").trigger("slideTo",a)})),r(".properties-toolbar a").tooltip({html:!0,container:r("body"),placement:"bottom"}),r(document).on("click",".properties-toolbar a",function(e){e.stopPropagation(),e.preventDefault();var a=r(this);a.closest(".properties-toolbar").find(".selected").removeClass("selected"),a.addClass("selected"),a.closest(".properties").removeClass("grid").removeClass("list").addClass(a.data("mode"))}),r(".gsearch .glocation").length&&r(".gsearch .gsub-location").length&&r(".gsearch .glocation").find(".dropdown-menu > li > a").on("click",function(e){e.stopPropagation(),e.preventDefault();var a=r(this).data("value");r(".gsearch .gsub-location .dropdown").children('[data-toggle="dropdown"]').text(r(".gsearch .gsub-location .dropdown-menu > li:first a").text()),r(".gsearch .gsub-location .gsub_location_input").val(""),r(".gsearch .gsub-location").find(".dropdown-menu > li").each(function(){var e=r(this).data("parent-location");void 0!==e&&e!=a?r(this).hide():r(this).show()})}),0<r(".floor-plan-wrap").length&&r(".floor-plan-wrap").each(function(e,a){r(this).owlCarousel({autoPlay:!1,items:4,itemsDesktop:[1199,3],itemsDesktopSmall:[979,3],navigation:!0,navigationText:["<i class='fa fa-angle-left' aria-hidden='true'></i>","<i class='fa fa-angle-right' aria-hidden='true'></i>"],pagination:!1,slideSpeed:1e3})}),0<r("#new_post").length&&r("#new_post").each(function(e,a){var o=r(this);o.on("click","#property_submit",function(e){var i=!1;if(o.find(".form-group").find(".required").each(function(e,a){var o=r(this),t=o.val();o.closest(".form-group").removeClass("validate-error"),""===t&&(o.closest(".form-group").addClass("validate-error"),i=!0)}),i)return r("html, body").animate({scrollTop:o.position().top},"slow"),!1})})}),jQuery(window).ready(function(d){d(".noo-main").on("click",".property-action-button",function(e){e.preventDefault();var a=d(this),o=a.data("action"),t=a.data("user"),i=a.data("id");if("sharing"===o);else if("favorites"===o){if(0===t)return d("#loginmodal").modal(),void d(".notice-form-login").show();var r=a.data("status");if("add_favorites"===r)a.data("status","is_favorites");else if("is_favorites"===r)return void window.location.replace(a.data("url"));d.ajax({url:nooPropertyL10n.ajax_url,type:"POST",dataType:"json",data:{action:"noo_favorites",security:nooPropertyL10n.security,status:r,user_id:t,property_id:i}}).done(function(e){"ok"===e.status?("add_favorites"===r?a.removeClass("fa-heart-o").addClass("fa-heart"):"is_favorites"===r&&a.removeClass("fa-heart").addClass("fa-heart-o"),console.log(e.msg)):alert(e.msg)}).fail(function(){console.log("error")})}else if("compare"===o){var n=a.data("thumbnail"),s=a.data("div");if(3<d(".item-compare").length)return void alert(nooPropertyL10n.notice_max_compare);a.data("action",""),d("."+s).show("slow"),d("."+s+" .list-compare").append('<div class="item-compare remove-compare-'+i+'"><img src="'+n+'"><input type="hidden" value="'+i+'" name="list_compare[]" /><i class="fa fa-trash-o" data-id="'+i+'" data-div-wrap="'+s+'" data-div="remove-compare-'+i+'"></i></div>').show("slow")}}),d(".noo-main").on("mouseenter",".property-action-button",function(e){e.preventDefault();var a=d(this),o=a.data("action");a.data("user"),a.data("id");if("sharing"===o){var t=a.data("class");d("."+t).toggleClass("show")}}),d(".property-action-button").tooltip({html:!0,container:d("body"),placement:"bottom"}),d(".noo-main").on("click",".list-compare .item-compare i",function(e){e.preventDefault();var a=d(this),o=a.data("id"),t=a.data("div"),i=a.data("div-wrap");d("."+t).remove(),d(".compare-"+o).data("action","compare"),d(".item-compare").length<1&&d("."+i).hide("slow")}),d(".noo-main").on("click",".remove_favorites",function(e){var a=d(this),o=a.data("user"),t=a.data("div"),i=a.data("id");d.ajax({url:nooPropertyL10n.ajax_url,type:"POST",dataType:"json",data:{action:"noo_favorites",security:nooPropertyL10n.security,user_id:o,property_id:i,status:"is_favorites"}}).done(function(e){"ok"===e.status?(d("#"+t).remove(),console.log(e.msg)):alert(e.msg)}).fail(function(){console.log("error")})}),d(".noo-main").on("click",".properties-ordering .dropdown-menu > li > a",function(e){e.stopPropagation(),e.preventDefault();var a=d(this).data("value");d(this).closest(".properties-ordering").find("input[name=orderby]").prop("value",a),d(this).closest(".dropdown").children('[data-toggle="dropdown"]').dropdown("toggle"),d(this).closest("form").submit()})});
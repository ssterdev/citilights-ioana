!function(h){var r=function(t,i){this.el=t,this.$el=h(this.el),this.options=h.extend({color:"#f7f7f7",units:"",label_selector:".noo-pie-chart-value",back_selector:".noo-pie-chart-back",responsive:!0},i),this.init()};r.prototype={constructor:r,_progress_v:0,animated:!1,colors:{wpb_button:"rgba(247, 247, 247, 1)","btn-primary":"rgba(0, 136, 204, 1)","btn-info":"rgba(88, 185, 218, 1)","btn-success":"rgba(106, 177, 101, 1)","btn-warning":"rgba(255, 153, 0, 1)","btn-danger":"rgba(255, 103, 91, 1)","btn-inverse":"rgba(85, 85, 85, 1)"},init:function(){this.setupColor(),this.value=this.$el.data("pie-value")/100,this.label_value=this.$el.data("pie-label-value")||this.$el.data("pie-value"),this.$wrapper=h(".noo-pie-chart-wrapper",this.$el),this.$label=h(this.options.label_selector,this.$el),this.$back=h(this.options.back_selector,this.$el),this.$canvas=this.$el.find("canvas"),this.draw(),this.setWayPoint(),!0===this.options.responsive&&this.setResponsive()},setupColor:function(){this.color=this.options.color},setResponsive:function(){var t=this;h(window).resize(function(){!0===t.animated&&t.circle.stop(),t.draw(!0)})},draw:function(t){var i=this.$el.width()/100*80,s=this.$el.data("pie-with"),e=i/2-s-1,r=i+8,a=i+8;if(this.$wrapper.css({width:r+"px",height:a+"px",padding:"4px"}),this.$label.css({width:r,height:r,"line-height":r+"px"}),this.$back.css({width:i,height:i,"border-width":s+2+"px","border-color":this.color}),this.$canvas.attr({width:i+"px",height:i+"px"}),e<0)return!1;this.circle=new ProgressCircle({canvas:this.$canvas.get(0),minRadius:e,arcWidth:s});var o=this.color;this.$el.hasClass("noo-pie-chart-filled")&&(this.$wrapper.css({"background-color":this.color}),o="#ffffff",this.$back.css({"border-color":"rgba(0, 0, 0, 0)"})),!0===t&&!0===this.animated&&(this._progress_v=this.value,this.circle.addEntry({fillColor:o,progressListener:h.proxy(this.setProgress,this)}).start())},setProgress:function(){if(this._progress_v>=this.value)return this.circle.stop(),this.$label.text(this.label_value+this.options.units),this._progress_v;this._progress_v+=.005;var t=this._progress_v/this.value*this.label_value,i=Math.round(t)+this.options.units;return this.$label.text(i),this._progress_v},animate:function(){var t=this.color;this.$el.hasClass("noo-pie-chart-filled")&&(t="#ffffff"),!0!==this.animated&&(this.animated=!0,this.circle.addEntry({fillColor:t,progressListener:h.proxy(this.setProgress,this)}).start(5))},setWayPoint:function(){void 0!==h.fn.waypoint?this.$el.waypoint(h.proxy(this.animate,this),{offset:"85%"}):this.animate()}},h.fn.vcChat=function(e){return this.each(function(){var t=h(this),i=t.data("vc_chart"),s="object"==typeof e?e:{color:t.data("pie-color"),units:t.data("pie-units")};void 0===e&&t.data("vc_chart",i=new r(this,s)),"string"==typeof e&&i[e]()})},"function"!=typeof window.vc_pieChart&&(window.vc_pieChart=function(){h(".noo-pie-chart").appear(function(){h(this).vcChat()})}),h(document).ready(function(){!window.vc_iframe&&vc_pieChart()})}(window.jQuery);